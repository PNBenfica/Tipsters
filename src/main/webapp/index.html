<!DOCTYPE html>
<!-- Bootstrap the angular app after the Google Java Script libraries are loaded. -->
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title></title>
    
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"> -->
    <meta name="viewport" content="initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/styles.css">

    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.16/angular.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.16/angular-route.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script>
        /**
         * Initializes the Google API JavaScript client. Bootstrap the angular module after loading the Google libraries
         * so that Google JavaScript library ready in the angular modules.
         */
        function init() {
            gapi.client.load('conference', 'v1', null, '//' + window.location.host + '/_ah/api');
            gapi.client.load('oauth2', 'v2', function () {
                angular.bootstrap(document, ['tipstersApp']);
            });
        };
    </script>
    <script src="//apis.google.com/js/client:plusone.js?onload=init"></script>
</head>

<!-- Restore the credential from cookie if stored by calling initSignInButton() -->
<body ng-controller="RootCtrl" ng-init="initSignInButton()">

<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header pull-left">
                <a id="nav-brand-name" class="navbar-brand" href="#">Tipsters</a>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            

            <ul class="nav navbar-nav navbar-right pull-right">
                <li class="navbarImage"  ng-click="toggleBetSlip()"><img src ="img/betslip.png" ></li>
                <li class="navbarImage" ng-click="toggleNotifications()"><img src ="img/notificationsN.png" ></li>
                <li id="userName"><a href="#/profile">Paulo Teixeira</a></li>
                <li id="greenBar"><a></a></li>
                <li class="navbarImage"><img src ="img/undefinedUser.png" ></li>
            </ul>

            <button type="button" id="menu-toggle" class="navbar-toggle collapsed .navbar-left" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
        </div><!-- /.container-fluid -->
    </nav>
    <!-- <a href="#menu-toggle" class="btn btn-default" id="menu-toggle">Toggle Menu</a> -->



    <div id="wrapper">
    <!-- Sidebar -->
        <div id="sidebar-wrapper">
            <ul class="sidebar-nav">
                <!-- <li class="sidebar-brand">
                    <a href="#">
                        Start Bootstrap
                    </a>
                </li> -->
                <li>
                    <a href="#/feed"><img src="img/feed.png"></a>
                    <a href="#/feed">Feed</a>
                </li>
                <li>
                    <img src="img/sportEvents.png">
                    <a href="#">Sport Events</a>
                </li>
                <li>
                    <img src="img/watchlist2.png">
                    <a href="#/watchlist">WatchList</a>
                </li>
                <li>
                    <img src="img/rankings.png">
                    <a href="#">Rankings</a>
                </li>
                <li id="xxx">
                    <img src="img/notifications.png">
                    <a href="#">Notifications</a>
                </li>
                <li>
                    <img src="img/search.png">
                    <a href="#">Search</a>
                </li>
            </ul>
        </div>
    </div>
    
    
    <div id="notifications-wrapper">
    <!-- Sidebar -->
        <div id="right_sidebar-wrapper">
            <ul class="right_sidebar-nav">
            
                <li class="right-sidebar-brand">
                    <p class="closes" ng-click="toggleNotifications()">×</p>
                    <a>Notifications</a>
                </li>     

                <li class="notification" ng-repeat="notification in notifications">
                    <div>
                        <p ng-click="removeNotification($index)">×</p>
                        <img ng-src="{{notification.tipsterImage}}">
                        <a>{{notification.tipsterName}} {{notification.action}} your tip "{{notification.event}}"</a>
                    </div>
                </li>
            </ul>
        </div>
    </div>
    
    
    
    <div id="bet-slip-wrapper">
    <!-- Sidebar -->
        <div id="right_sidebar-wrapper">
            <ul class="right_sidebar-nav">
            
                <li class="right-sidebar-brand">
                    <p class="closes" ng-click="toggleBetSlip()">×</p>
                    <a>Bet Slip</a>
                </li>

                <li class="single-bet-slip" ng-repeat="betSlipTip in betSlipTips">
                    <div>
                        <p ng-click="removeSingleTip($index)">×</p>
                        <a><b>{{$index + 1}}. {{betSlipTip.selection}}</b></a>
                        <a>{{betSlipTip.event}}</a>
                        <a>{{betSlipTip.odd}}</a>
                    </div>
                </li>

                <p id="totalOdd" ng-hide="betSlipTips.length < 2">Total odd: {{betSlipTotalOdd()}}</p>
                
                <button type="button" ng-hide="betSlipTips.length < 1" class="btn btn-primary btn-sm">Share {{betSlipTips.length}} single tips</button>
                <button type="button" ng-hide="betSlipTips.length < 1" class="btn btn-primary btn-sm" ng-disabled="betSlipTips.length < 2">Share as multiple bet</button>
            </ul>
        </div>
    </div>
    
    

<div class="container">
    <ng-view></ng-view>
</div>

<script src="//cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/0.10.0/ui-bootstrap-tpls.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
<script src="/js/app.js"></script>
<script src="/js/controllers.js"></script>


    <!-- Menu Toggle Script -->
    <script>
    $("#menu-toggle").click(function(e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
    });
    $(".navbar-brand").click(function(e) {
        e.preventDefault();
        if ($("#menu-toggle").is(':visible') || $("#wrapper").hasClass("toggled")){
            $("#wrapper").toggleClass("toggled");
            $("#notifications-wrapper").removeClass("toggled");
            $("#bet-slip-wrapper").removeClass("toggled");
        }
        else
        	window.location = $(".navbar-brand").attr('href');
    });
    
    //setTimeout(function(){ $("#notifications-wrapper").css('opacity', '1'); }, 500);
    </script>

</body>
</html>